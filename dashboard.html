<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Francesco Lubrano">
    <title>Nucleo dashboard</title>
    <!-- Bootstrap core CSS -->
    <link rel='shortcut icon' type='image/x-icon' href='favicon.ico' />
    <link rel="stylesheet" href="css/cerulean/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="css/demo.css" type="text/css" />
    <link rel="stylesheet" href="css/font-awesome.css" type="text/css" />
    <script type="text/javascript" src="jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.js"></script>
    <script type="text/javascript" src="js/bootbox.min.js"></script>
    <script type="text/javascript" src="js/spin.min.js"></script>
    <!-- <script>
         $(function() {
           $(".navbar-static-top").load("navbar.html", function() {
             $(".navbar-static-top li.dropdown").addClass("active");
             $(".navbar-static-top a[href='streamingtest.html']").parent().addClass("active");
           });
           //$(".footer").load("footer.html");
         });
         </script> -->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
      <![endif]-->
</head>

<body>
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar-collapse" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand">
                  <a href="http://www.stmicroelectronics.com.cn/content/st_com/en.html">
                    <img alt="ST" src="images/RS70_ST_Logo_Qi.png" class="header-logos st-logo"></a>
                </span>
                <span class="site-name">STM32ODE IoT web dashboard</span>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a class="active" href="./index.html">Home</a></li>
                    <li><a href="./about.html">About</a></li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>
    </br>
    </br>
    </br>
    </br>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h1>Dashboard</h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2>Chart options</h2>
                        <p>
                            Show data of the last:
                            <select id="since">
                                <option value=1>1 hour</option>
                                <option value=6>6 hours</option>
                                <option value=24 selected>24 hours</option>
                                <option value=48>48 hours</option>
                            </select>
                            <span style="margin-left:5px;">Board connection status: <canvas class="board-status" id="boardStatus" width="50" height="25"></canvas></span>
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h2>Device Status</h2>
                        	<div class="row">
                        		<div class="col-md-6">
                        		    Led status: <span id="myTextArea"></span> 
                            	</div>
                            	<div class="col-md-6">
                            		<form name="thingShadow" action="javascript:setShadow()">
                                		<input id="sendReq" type="submit" value="Switch LED" />
                            		</form>
                            	</div>
                           </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <canvas id="temperaturegraph" class="inner cover" width="500" height="320"></canvas>
                <div>
                    Temperature threshold:
                    <input type="range" min="1" max="100" value="50" class="slider" id="threshold">
                    <div class="range-slider-value" id="inserted_value"></div>
                </div>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-danger">High</span>&nbsp;
                            </div>
                            <div>
                                <span id="t-high" class="text-muted">(n/a)</span>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-success">Low</span>&nbsp;
                            </div>
                            <div class="col-sm-9">
                                <span id="t-low" class="text-muted">(n/a)</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <canvas id="humiditygraph" class="inner cover" width="500" height="320"></canvas>
                <br />
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-danger">High</span>&nbsp;
                            </div>
                            <div class="col-sm-9">
                                <span id="h-high" class="text-muted">(n/a)</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-success">Low</span>&nbsp;
                            </div>
                            <div class="col-sm-9">
                                <span id="h-low" class="text-muted">(n/a)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <canvas id="pressuregraph" class="inner cover" width="500" height="320"></canvas>
                <br />
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-danger">High</span>&nbsp;
                            </div>
                            <div class="col-sm-9">
                                <span id="p-high" class="text-muted">(n/a)</span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-success">Low</span>&nbsp;
                            </div>
                            <div class="col-sm-9">
                                <span id="p-low" class="text-muted">(n/a)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <p style="margin-top:0.5em; color:grey" ; align="center"><img src="images/gyroscope_icon.png" width="17" height="17" alt="gyroscope_image"> Attitude</p>
                <canvas id="gyroCanvas" class="inner cover" width="600" height="335"></canvas>
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span class="label label-info">Alpha (yaw)</span>&nbsp;
                            </div>
                            <div class="col-sm-3 text-right">
                                <span class="label label-success">Beta (roll)</span>&nbsp;
                            </div>
                            <div class="col-sm-3 text-right">
                                <span class="label label-danger">Gamma (pitch)</span>&nbsp;
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-3 text-right">
                                <span id="alpha" class="text-muted">(n/a)</span>
                            </div>
                            <div class="col-sm-3 text-right">
                                <span id="beta" class="text-muted">(n/a)</span>
                            </div>
                            <div class="col-sm-3 text-right">
                                <span id="gamma" class="text-muted">(n/a)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <!-- <p class="text-center">2 seconds feed from home sensors for the past 24 hours.</p> -->
            </div>
        </div>
    </div>
    <!-- /container -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.167.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
    <script src="refresh.js"></script>
    <script src="handle_shadow.js"></script>
    <script>
        var slider = document.getElementById("threshold");
        var output = document.getElementById("inserted_value");
        output.innerHTML = slider.value;

        slider.oninput = function() {
            output.innerHTML = this.value;
        }
    </script>

</body>

</html>